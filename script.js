// Copied from Index.cshtml for static HTML version
const catalog = [
    {
        name: "Silk Sarees",
        products: [
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["Images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            {
                code: "SR101",
                title: "Elegant Red Silk",
                price: 2499,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_1.1.jpeg", "Images/Silk Sarees/Product_1.2.jpeg", "images/Silk Sarees/Product_1.3.jpeg"]
            },
            {
                code: "SR102",
                title: "Classic Blue Silk",
                price: 2599,
                originalPrice: 2999,
                images: ["images/Silk Sarees/Product_2.1.jpeg", "Images/Silk Sarees/Product_2.2.jpeg", "images/Silk Sarees/Product_2.3.jpeg"]
            },
            // ...repeat or add more products as needed...
        ]
    },
    {
        name: "Cotton Sarees",
        products: [
            {
                code: "SR201",
                title: "Festive Green Cotton",
                price: 1899,
                images: ["images/Cotton Sarees/Product_3.1.jpeg", "images/Cotton Sarees/Product_3.2.jpeg"]
            },
            {
                code: "SR202",
                title: "Trendy Yellow Cotton",
                price: 1799,
                images: ["images/Cotton Sarees/Product_4.1.jpeg"]
            }
        ]
    },
    {
        name: "Pattu Sarees",
        products: [
            {
                code: "SR301",
                title: "Royal Purple Pattu",
                price: 3999,
                images: ["images/Pattu Sarees/Product_5.1.jpeg"]
            }
        ]
    }
];
const pageSize = 8;
let selectedCategory = catalog[0].name;
let currentPage = 1;
function renderCategories() {
    const catDiv = document.getElementById('category-buttons');
    catDiv.innerHTML = '';
    catalog.forEach(cat => {
        const btn = document.createElement('button');
        btn.className = 'btn btn-outline-primary mb-2 mx-1' + (cat.name === selectedCategory ? ' active' : '');
        btn.textContent = cat.name;
        btn.onclick = () => { selectedCategory = cat.name; currentPage = 1; renderProducts(); renderCategories(); };
        catDiv.appendChild(btn);
    });
}
function renderProducts() {
    const cat = catalog.find(c => c.name === selectedCategory);
    const products = cat ? cat.products : [];
    const grid = document.getElementById('product-grid');
    const title = document.getElementById('category-title');
    title.textContent = selectedCategory;
    grid.innerHTML = '';
    // Pagination
    const totalPages = Math.ceil(products.length / pageSize);
    const paged = products.slice((currentPage-1)*pageSize, currentPage*pageSize);
    paged.forEach((saree, i) => {
        const col = document.createElement('div');
        col.className = 'col';
        col.innerHTML = `
        <div class="card h-100 shadow-sm border-0">
            <a href="#" data-bs-toggle="modal" data-bs-target="#productModal" onclick="showModal('${selectedCategory}',${(currentPage-1)*pageSize+i})">
                <img src="${saree.images[0]}" class="product-img-square card-img-top mx-auto d-block" alt="${saree.title}" />
            </a>
            <div class="card-body p-2 text-center">
                <h5 class="card-title mb-1" style="font-size:1.1rem;">${saree.title}</h5>
                <div class="mb-1"><span class="badge bg-secondary">${saree.code}</span></div>
                <div class="fw-semibold text-success mb-1">
                    <span class="rupee">&#8377;</span>${saree.price}
                    ${saree.originalPrice && saree.originalPrice > saree.price
                        ? `<span class='text-muted' style='text-decoration:line-through;font-weight:400;font-size:0.95em;'><span class='rupee'>&#8377;</span>${saree.originalPrice}</span>`
                        : ""}
                </div>
            </div>
        </div>`;
        grid.appendChild(col);
    });
    // Pagination nav
    const nav = document.getElementById('pagination-nav');
    nav.innerHTML = '';
    if (totalPages > 1) {
        let ul = document.createElement('ul');
        ul.className = 'pagination justify-content-center';
        for (let p = 1; p <= totalPages; p++) {
            let li = document.createElement('li');
            li.className = 'page-item' + (p === currentPage ? ' active' : '');
            let a = document.createElement('a');
            a.className = 'page-link';
            a.href = '#';
            a.textContent = p;
            a.onclick = (e) => { 
                e.preventDefault(); 
                currentPage = p; 
                renderProducts(); 
                // Scroll to main-content-area minus navbar height (responsive)
                const mainContent = document.querySelector('.main-content-area');
                const nav = document.querySelector('.navbar');
                let navHeight = nav ? nav.offsetHeight : 56;
                // On mobile, navbar may be smaller
                if (window.innerWidth <= 576) navHeight = 32;
                const scrollTo = (mainContent?.offsetTop || 0) - navHeight - 4;
                window.scrollTo({top: scrollTo > 0 ? scrollTo : 0, left:0, behavior:'smooth'});
            };
            li.appendChild(a);
            ul.appendChild(li);
        }
        nav.appendChild(ul);
        grid.style.marginBottom = '';
    } else {
        // Add margin if no pagination
        grid.style.marginBottom = '5rem';
    }
}
window.showModal = function(category, index) {
    const cat = catalog.find(c => c.name === category);
    const saree = cat.products[index];
    document.getElementById('productModalLabel').textContent = saree.title + ' (' + saree.code + ')';
    document.getElementById('modal-price').innerHTML = 'Price: <span class="rupee">&#8377;</span>' + saree.price;
    const carouselInner = document.getElementById('modal-carousel-inner');
    carouselInner.innerHTML = '';
    saree.images.forEach((img, i) => {
        const div = document.createElement('div');
        div.className = 'carousel-item' + (i === 0 ? ' active' : '');
        div.innerHTML = `<img src="${img}" class="d-block mx-auto" style="width:350px;height:350px;object-fit:cover;" alt="${saree.title} image ${i+1}">`;
        carouselInner.appendChild(div);
    });
    // Reset carousel to first image
    // For static HTML, you may need to use Bootstrap's JS or a simple custom carousel
}
document.addEventListener('DOMContentLoaded', function() {
    renderCategories();
    renderProducts();
});
